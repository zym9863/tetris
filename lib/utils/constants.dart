import 'package:flutter/material.dart';
import 'theme.dart';

// 游戏板尺寸
const int kBoardWidth = 10;
const int kBoardHeight = 20;

// 方块颜色 - 使用主题中定义的颜色
final Map<int, Color> kPieceColors = TetrisTheme.pieceColors;

// 方块形状定义 (每个形状有4个旋转状态)
const Map<int, List<List<List<int>>>> kPieceShapes = {
  // I 形状
  1: [
    [
      [0, 0, 0, 0],
      [1, 1, 1, 1],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 1, 0],
      [0, 0, 1, 0],
      [0, 0, 1, 0],
      [0, 0, 1, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [1, 1, 1, 1],
      [0, 0, 0, 0],
    ],
    [
      [0, 1, 0, 0],
      [0, 1, 0, 0],
      [0, 1, 0, 0],
      [0, 1, 0, 0],
    ],
  ],
  // J 形状
  2: [
    [
      [2, 0, 0],
      [2, 2, 2],
      [0, 0, 0],
    ],
    [
      [0, 2, 2],
      [0, 2, 0],
      [0, 2, 0],
    ],
    [
      [0, 0, 0],
      [2, 2, 2],
      [0, 0, 2],
    ],
    [
      [0, 2, 0],
      [0, 2, 0],
      [2, 2, 0],
    ],
  ],
  // L 形状
  3: [
    [
      [0, 0, 3],
      [3, 3, 3],
      [0, 0, 0],
    ],
    [
      [0, 3, 0],
      [0, 3, 0],
      [0, 3, 3],
    ],
    [
      [0, 0, 0],
      [3, 3, 3],
      [3, 0, 0],
    ],
    [
      [3, 3, 0],
      [0, 3, 0],
      [0, 3, 0],
    ],
  ],
  // O 形状
  4: [
    [
      [0, 4, 4, 0],
      [0, 4, 4, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 4, 4, 0],
      [0, 4, 4, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 4, 4, 0],
      [0, 4, 4, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 4, 4, 0],
      [0, 4, 4, 0],
      [0, 0, 0, 0],
    ],
  ],
  // S 形状
  5: [
    [
      [0, 5, 5],
      [5, 5, 0],
      [0, 0, 0],
    ],
    [
      [0, 5, 0],
      [0, 5, 5],
      [0, 0, 5],
    ],
    [
      [0, 0, 0],
      [0, 5, 5],
      [5, 5, 0],
    ],
    [
      [5, 0, 0],
      [5, 5, 0],
      [0, 5, 0],
    ],
  ],
  // T 形状
  6: [
    [
      [0, 6, 0],
      [6, 6, 6],
      [0, 0, 0],
    ],
    [
      [0, 6, 0],
      [0, 6, 6],
      [0, 6, 0],
    ],
    [
      [0, 0, 0],
      [6, 6, 6],
      [0, 6, 0],
    ],
    [
      [0, 6, 0],
      [6, 6, 0],
      [0, 6, 0],
    ],
  ],
  // Z 形状
  7: [
    [
      [7, 7, 0],
      [0, 7, 7],
      [0, 0, 0],
    ],
    [
      [0, 0, 7],
      [0, 7, 7],
      [0, 7, 0],
    ],
    [
      [0, 0, 0],
      [7, 7, 0],
      [0, 7, 7],
    ],
    [
      [0, 7, 0],
      [7, 7, 0],
      [7, 0, 0],
    ],
  ],
};

// 游戏速度 (毫秒)
const int kInitialSpeed = 800;
const int kSpeedUpFactor = 50;
const int kMinimumSpeed = 100;

// 分数
const int kPointsPerLine = 100;
const int kPointsPerLevel = 500;
